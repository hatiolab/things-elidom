<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../things-combo/things-code-selector.html">
<!--
A comment describing this element

Example:

    <my-elem></my-elem>

Example:

    <my-elem>
      <h2>Hello my-elem</h2>
    </my-elem>

@demo demo/index.html
-->

<dom-module id="things-locale-combo">
	<template>
		<style>
			:host {
				display: block;
			}
		</style>
	    <things-code-selector 
	      id="code-selector" 
	      label="Language" 
	      value="en-US" 
	      code-name="LOCALE" 
	      label-path="description" 
	      value-path="name">
	    </things-code-selector>
	</template>
	<script>
		Polymer({
			is: 'things-locale-combo',
			properties:{
				/**
				 * localiztion Object
				 * L+ 10 characters +N
				 */
				l10n :{
					type: Object,
					readonly:true,
					notify:true
				}
			},

			listeners: {
			  'code-selector.things-combo-value-changed' : '_onComboValueChanged'
			},

			_onComboValueChanged:function (event) {
				this.requestLocale(event.detail.value);
			},

			requestLocale:function (locale) {
				this.l10n = document.l10n;
				document.l10n.requestLocales(locale);
			}
		});
	</script>
</dom-module>