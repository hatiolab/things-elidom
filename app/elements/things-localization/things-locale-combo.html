<script defer href="../../../bower_components/dist/compat/web/l20n.js"></script>
<link rel="import" href="../../things-combo/things-combo.html">
<link rel="localization" href="./locales/manifest.json">
<!--
A comment describing this element

Example:

    <my-elem></my-elem>

Example:

    <my-elem>
      <h2>Hello my-elem</h2>
    </my-elem>

@demo demo/index.html
-->

<dom-module id="things-locale-combo">
	<template>
		<style>
			:host {
				display: block;
			}
		</style>
	    <things-code-selector 
	      id="code-selector" 
	      label="Language" 
	      value="en-US" 
	      code-name="LOCALE" 
	      label-path="description" 
	      value-path="name">
	    </things-code-selector>
	</template>
	<script>
		Polymer({
			is: 'things-locale-combo',
			listeners: {
			  'code-selector.things-combo-value-changed' : '_onComboValueChanged'
			},

			_onComboValueChanged:function (event) {
				this.requestLocale(event.detail.value);
			},

			requestLocale:function (locale) {
				document.l10n.requestLocales(locale);
			},
		});
	</script>
</dom-module>