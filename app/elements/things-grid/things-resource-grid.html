<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../../bower_components/paper-toolbar/paper-toolbar.html">

<link rel="import" href="../things-button/things-button-group.html">
<link rel="import" href="../things-button/things-button-bar.html">
<link rel="import" href="../things-paginator/things-paginator.html">

<link rel="import" href="../things-grid-behavior/things-resource-grid-behavior.html">
<link rel="import" href="../things-grid-behavior/things-grid-config-behavior.html">
<link rel="import" href="../things-grid-behavior/things-grid-export-behavior.html">
<link rel="import" href="../things-grid-behavior/things-grid-import-behavior.html">
<link rel="import" href="../things-grid-behavior/things-grid-addrow-behavior.html">
<link rel="import" href="../things-grid-behavior/things-grid-soft-deleterow-behavior.html">
<link rel="import" href="../things-grid-behavior/things-grid-save-behavior.html">

<!--
기본 라소스 그리드. 
Pagination을 지원하고 import, export, add, delete, save가 가능한 그리드
Things.ResourceGridBehavior에 필요한 모든 구현이 포함되어 있다. 

	Example:

    <things-ajax 
      auto
      resource-url="diy_services/ElidomGridModel/query.json" 
      method="GET"
      last-response="{{gridModel}}">
    </things-ajax>

    <things-ajax 
      auto
      resource-url="diy_services/ElidomGridColumn/query.json" 
      method="GET"
      last-response="{{gridColumns}}">
    </things-ajax>

    <things-ajax 
      id="search-resource"
      resource-url="terminologies" 
      resource-action="index"
      last-response="{{gridData}}">
    </things-ajax>

    <things-resource-grid 
      id="grid"
      model="[[gridModel]]" 
      columns="[[gridColumns]]" 
      data="[[gridData.items]]"
      total-count="[[gridData.total]]"
      current-page="1"
      per-page="50"
      grid-save-action="terminologies/update_multiple">
    </things-resource-grid>

@demo ./things-grid/demo/demo-things-resource-grid.html
-->

<dom-module id="things-resource-grid">
	<template>
		<style>
			:host {
				display: block;
				height: 100%;
				width: 100%;
			}

			:host paper-material {
				padding: 10px;
			}

			:host paper-toolbar {
				padding: 10px 0px 0px 0px;
			}

			paper-toolbar.white {
				--paper-toolbar-background: white;
				--paper-toolbar-title: {
					font-style: italic;
					font-weight: bold;
				};
			}			
		</style>
	
		<paper-material elevation="1" class="flex">
			<div id="{{gridContainerId}}"></div>
		
			<paper-toolbar class="white" hidden$="{{!enableToolbar}}">
				<!-- paginator -->
				<div id="toolbar-paginator-div" class="middle fit">
					<!--content></content-->
				</div>

				<!-- button group -->
				<div id="toolbar-button-group-div" class="bottom fit">					
					<things-button-bar id="button-group" buttons="[[buttons]]"></things-button-bar>					
					<!--things-button-group id="button-group" buttons="[[buttons]]"></things-button-group-->
				</div>
			</paper-toolbar>
		</paper-material>
	</template>

	<script>
		Polymer({
			is: 'things-resource-grid',

			behaviors: [
				Things.ResourceGridBehavior
			],
	
			properties: {

				/**
				 * 그리드 구성 전 발생하는 이벤트
				 *
				 * @event things-grid-configure
				 */
				/**
				 * 그리드 구성이 완료된 후 발생하는 이벤트
				 *
				 * @event things-grid-configured
				 */
				/**
				 * 그리드 구성 도중 에러가 발생한 경우 발생하는 이벤트
				 *
				 * @event things-grid-configure-failed
				 */
				/**
				 * 그리드 이벤트 Behavior 구성 전 발생하는 이벤트
				 *
				 * @event things-grid-event-configure
				 */
				/**
				 * 그리드 이벤트 Behavior 구성이 완료된 후 발생하는 이벤트
				 *
				 * @event things-grid-event-configured
				 */
				/**
				 * 그리드 Import Behavior 구성 전 발생하는 이벤트
				 *
				 * @event things-grid-import-configure
				 */
				/**
				 * 그리드 Import Behavior 구성이 완료된 후 발생하는 이벤트
				 *
				 * @event things-grid-import-configured
				 */
				/**
				 * 그리드 Export Behavior 구성 전 발생하는 이벤트
				 *
				 * @event things-grid-export-configure
				 */
				/**
				 * 그리드 Export Behavior 구성이 완료된 후 발생하는 이벤트
				 *
				 * @event things-grid-export-configured
				 */				 
				/**
				 * 그리드 Add Row Behavior 구성 전 발생하는 이벤트
				 *
				 * @event things-grid-addrow-configure
				 */
				/**
				 * 그리드 Add Row Behavior 구성이 완료된 후 발생하는 이벤트
				 *
				 * @event things-grid-addrow-configured
				 */
				/**
				 * 그리드 Soft Delete Row Behavior 구성 전 발생하는 이벤트
				 *
				 * @event things-grid-soft-deleterow-configure
				 */
				/**
				 * 그리드 Soft Delete Behavior 구성이 완료된 후 발생하는 이벤트
				 *
				 * @event things-grid-soft-deleterow-configured
				 */
				/**
				 * 그리드 Save Behavior 구성 전 발생하는 이벤트
				 *
				 * @event things-grid-save-configure
				 */
				/**
				 * 그리드 Save Behavior 구성이 완료된 후 발생하는 이벤트
				 *
				 * @event things-grid-save-configured
				 */				 
				/**
				 * 그리드 Resize 전 발생하는 이벤트
				 *
				 * @event things-grid-resize
				 */
				/**
				 * 그리드 Resize 후 발생하는 이벤트
				 *
				 * @event things-grid-resized
				 */
				/**
				 * 그리드 Data 변경 전 발생하는 이벤트
				 *
				 * @event things-grid-data-change
				 */
				/**
				 * 그리드 Data 변경 후 발생하는 이벤트
				 *
				 * @event things-grid-data-changed
				 */
				/**
				 * 그리드 상세 버튼이 클릭 되었을 경우 발생하는 이벤트
				 *
				 * @event things-grid-detail-tap
				 */
				/**
				 * 그리드 Row Data가 선택되었을 경우 발생하는 이벤트
				 *
				 * @event things-grid-row-data-select
				 */
				/**
				 * 그리드 Cell Data가 선택되었을 경우 발생하는 이벤트
				 *
				 * @event things-grid-cell-data-select
				 */
				/**
				 * 그리드 데이터 Save(저장/삭제/추가) 액션이 성공시 발생하는 이벤트
				 *
				 * @event things-grid-save-success
				 */
				/**
				 * 그리드 데이터 Save(저장/삭제/추가) 액션시 에러 발생시 발생하는 이벤트
				 *
				 * @event things-grid-save-error
				 */
				/**
				 * 그리드 행 추가 전 발생하는 이벤트. 
				 * 이 이벤트를 잡아서 event.preventDefault()를 호출하고 별도 로직을 작성하면 기본 로직을 override 할 수 있다.
				 *
				 * @event things-grid-handle-addrow
				 */
				/**
				 * 그리드 행 삭제 전 발생하는 이벤트. 
				 * 이 이벤트를 잡아서 event.preventDefault()를 호출하고 별도 로직을 작성하면 기본 로직을 override 할 수 있다.
				 *
				 * @event things-grid-handle-deleterow
				 */
				/**
				 * 그리드 Save(저장/삭제/추가) 로직 수행 전 발생하는 이벤트. 
				 * 이 이벤트를 잡아서 event.preventDefault()를 호출하고 별도 로직을 작성하면 기본 로직을 override 할 수 있다.
				 *
				 * @event things-grid-pre-save
				 */
				/**
				 * 그리드 Import 로직 수행 전 발생하는 이벤트. 
				 * 이 이벤트를 잡아서 event.preventDefault()를 호출하고 별도 로직을 작성하면 기본 로직을 override 할 수 있다.
				 *
				 * @event things-grid-handle-import
				 */
				/**
				 * 그리드 Import 완료 후 발생하는 이벤트. 
				 *
				 * @event things-grid-import-finished
				 */
				/**
				 * 그리드 Export 수행 전 발생하는 이벤트. 
				 * 이 이벤트를 잡아서 event.preventDefault()를 호출하고 별도 로직을 작성하면 기본 로직을 override 할 수 있다.
				 *
				 * @event things-grid-handle-export
				 */
			}

		});
	</script>
</dom-module>