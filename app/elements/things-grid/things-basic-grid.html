<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../../bower_components/paper-toolbar/paper-toolbar.html">

<link rel="import" href="../things-button/things-button-group.html">
<link rel="import" href="../things-button/things-button-bar.html">
<link rel="import" href="../things-paginator/things-paginator.html">

<link rel="import" href="../things-grid-behavior/things-grid-config-behavior.html">
<link rel="import" href="../things-grid-behavior/things-grid-event-behavior.html">
<link rel="import" href="../things-grid-behavior/things-grid-export-behavior.html">
<link rel="import" href="../things-grid-behavior/things-grid-import-behavior.html">
<link rel="import" href="../things-grid-behavior/things-grid-save-behavior.html">

<!--
기본 라소스 그리드

	Example:

@demo ./things-grid/demo/demo-things-basic-grid.html
-->

<dom-module id="things-basic-grid">
	<template>
		<style>
			:host {
				display: block;
				height: 100%;
				width: 100%;
			}

			:host paper-material {
				padding: 10px;
			}

			:host paper-toolbar {
				padding: 10px 0px 0px 0px;
			}

			paper-toolbar.white {
				--paper-toolbar-background: white;
				--paper-toolbar-title: {
					font-style: italic;
					font-weight: bold;
				};
			}			
		</style>
	
		<paper-material elevation="1" class="flex">
			<div id="{{gridContainerId}}"></div>
			<content></content>
		</paper-material>

	</template>

	<script>
		Polymer({
			is: 'things-basic-grid',

			behaviors: [
				Things.GridConfigBehavior,
				Things.GridEventBehavior
			],
	
			properties: {
			},

			listeners: {
				'things-grid-configure-failed' : '_gridConfigureFailed',
				'things-grid-configured' : '_initializeResourceGrid'
			},

			/**
			 * Grid 구성이 실패했을 경우 
			 * 
			 * @event {Event} event things-grid-configure-failed
			 */
			_gridConfigureFailed: function(event) {
				this.openInfoMsg({
					type : 'warning',
					title : 'Grid Configuration Failed',
					text : 'Error : ' + event.detail.error
				});
			},

			/**
			 * Grid 구성 후 추가 액션
			 *
			 * @event {Event} event things-grid-configured
			 */
			_initializeResourceGrid: function(e) {
				console.log('things-basic-grid received [things-grid-configured]');
				this.fire('things-basic-grid-configured', this.grid);
			}

		});
	</script>
</dom-module>